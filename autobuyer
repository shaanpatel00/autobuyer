import time
from selenium import webdriver

# open browser
browser = webdriver.Chrome('/Users/shaanpatel/python/chromedriver')

# open Best Buy to NVIDEA 3060 TI
browser.get('https://www.bestbuy.com/site/nvidia-geforce-rtx-3060-ti-8gb-gddr6-pci-express-4-0-graphics-card-steel-and-black/6439402.p?skuId=6439402')

# Best Buy Purchasable page:
# https://www.bestbuy.com/site/pny-nvidia-geforce-gt-1030-2gb-gddr5-pci-express-3-0-graphics-card-black/5901353.p?skuId=5901353

# creating a flag for the while-loop
buyButton = False
while not buyButton:
    try:
        # if this works then the button is not pytopen
        addToCartBtn = addButton = browser.find_element_by_class_name("btn_disabled")

        # Button isn't open, restart the script
        print("Button isn't ready yet")

        # Refresh page after a delay
        time.sleep(1)
        browser.refresh

    except:
        addToCartBtn = addButton = browser.find_element_by_class_name("btn_primary")

        # Click the button and end the script
        
